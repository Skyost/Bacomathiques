import{p as J,d as y,o as c,x as g,w as a,a as e,g as m,t as $,u as d,s as K,D as A,aG as Q,l as D,m as N,e as x,n as w,A as Y,z as B,r as h,q as T,K as S,c as p,F as z,f as U,G as Z,y as X,j as ee,E as W,i as q,Y as te,aH as se,aI as F,Q as M,aJ as oe,aK as R,I as ae,J as ne,aL as L,aM as le,aN as ce,aO as re,aP as ie,aQ as de,C as _e}from"./BRoMSsP6.js";import I from"./DOTd-_5T.js";import{u as ue,q as pe}from"./BGnsZgT2.js";import{s as me}from"./CQIgKE_L.js";const ve=J("/img/logo.svg"),fe=r=>(D("data-v-194e7ee9"),r=r(),N(),r),be=fe(()=>x("img",{class:"logo",src:ve,alt:"Logo"},null,-1)),he=y({__name:"NavbarBrand",setup(r){return(n,_)=>{const l=A,u=Q;return c(),g(u,null,{default:a(()=>[be,e(l,{class:"brand-link",to:"/"},{default:a(()=>[m($(d(K).name),1)]),_:1})]),_:1})}}}),E=w(he,[["__scopeId","data-v-194e7ee9"]]),ge={class:"dropdown-header"},ye=y({__name:"FilteredLessonList",props:{levelId:{},lessons:{},filter:{default:void 0}},setup(r){const n=r,_=Y(),l=t=>`/cours/${t.level}/${t.id}/`,u=t=>{const i=l(t);return i===_.path||i===_.path+"/"?"current":null},v=B(()=>W[n.levelId]),o=B(()=>n.lessons.filter(t=>t.level===n.levelId&&t["title-search"].includes(n.filter??""))),s=h(null);return T(async()=>{await S(),s.value.style.minWidth=`${s.value.offsetWidth}px`}),(t,i)=>{const f=I,k=A;return d(o).length>0?(c(),p("ul",{key:0,ref_key:"root",ref:s,class:"lesson-list list-group"},[x("li",ge,[e(f,{name:"bi:pen-fill"}),m(" Cours de "+$(d(v).name),1)]),(c(!0),p(z,null,U(d(o),b=>(c(),p("li",{key:b.id},[e(k,{class:X(["dropdown-item",u(b)]),to:l(b)},{default:a(()=>[m($(d(Z)(b)),1)]),_:2},1032,["class","to"])]))),128))],512)):ee("",!0)}}}),ke=w(ye,[["__scopeId","data-v-f2af5b8c"]]),we=r=>(D("data-v-dd06cd97"),r=r(),N(),r),Le={class:"list"},$e={key:0},xe={key:1},Ie={key:2},Ce=we(()=>x("em",null,"Pas de cours à afficher.",-1)),Be=[Ce],Ee=y({__name:"LessonList",setup(r){const n=h(),_=Object.keys(W),{pending:l,data:u}=ue("lesson-list",()=>pe(me.dataLatexDirectory).without(["body","summary","toc"]).sort({chapter:1,$numeric:!0}).find());return(v,o)=>{const s=te,t=se;return c(),p("div",Le,[d(l)?(c(),p("em",$e,"Chargement de la liste des cours...")):d(u)?(c(),p("div",xe,[e(t,{action:"/recherche/",method:"get"},{default:a(()=>[e(s,{id:"lesson-list-search",modelValue:d(n),"onUpdate:modelValue":o[0]||(o[0]=i=>q(n)?n.value=i:null),class:"border-0",type:"search",name:"requete",placeholder:"Chercher un cours..."},null,8,["modelValue"])]),_:1}),(c(!0),p(z,null,U(d(_),i=>(c(),g(ke,{key:i,"level-id":i,lessons:d(u),filter:d(n)},null,8,["level-id","lessons","filter"]))),128))])):(c(),p("div",Ie,Be))])}}}),P=w(Ee,[["__scopeId","data-v-dd06cd97"]]),Ve=y({__name:"LessonListDropdown",setup(r){return(n,_)=>{const l=I,u=oe,v=R,o=F("b-color-mode");return c(),g(v,null,{default:a(()=>[M((c(),g(u,{"auto-close":"outside",class:"page-navbar-item"},{"button-content":a(()=>[e(l,{name:"bi:tag-fill"}),m(" Accès direct à un cours ")]),default:a(()=>[e(P)]),_:1})),[[o,"light"]])]),_:1})}}}),Ae=w(Ve,[["__scopeId","data-v-51826588"]]),V=70,ze=y({__name:"PageNavbar",setup(r){const n=h(0),_=h(!1),l=h(null);T(async()=>{await S(),u()}),ae(()=>{window.addEventListener("resize",u),window.addEventListener("scroll",v)}),ne(()=>{window.removeEventListener("resize",u),window.removeEventListener("scroll",v)});const u=()=>{const s=window.innerWidth<768?70:130;l.value.$el.setAttribute("style",`--height: ${s}px; --shrinked-height: ${V}px`);let t=document.getElementById("page-navbar-spacer");t||(t=document.createElement("div"),t.classList.add("bg-primary"),t.setAttribute("id","page-navbar-spacer"),l.value.$el.parentNode.insertBefore(t,l.value.$el)),t.style.height=`${s}px`,document.documentElement.scrollTop=Math.max(document.documentElement.scrollTop-s,0),n.value=s-V},v=()=>{var s;const o=document.documentElement.scrollTop;(s=l.value)==null||s.$el.classList.toggle("shrinked",o>n.value)};return(o,s)=>{const t=le,i=I,f=ce,k=re,b=ie,H=de,O=R,j=_e,G=F("b-color-mode");return c(),p("div",null,[M((c(),g(H,{id:"page-navbar",ref_key:"navbar",ref:l,toggleable:"lg","data-bs-theme":"dark",variant:"primary"},{default:a(()=>[e(E,{class:"mobile-navbar-brand"}),e(t,{target:"page-navbar-collapse"}),e(b,{id:"page-navbar-collapse","is-nav":""},{default:a(()=>[e(k,{class:"ms-auto ms-lg-0"},{default:a(()=>[e(f,{class:"page-navbar-item",to:"/",active:(o._.provides[L]||o.$route).path==="/"},{default:a(()=>[e(i,{name:"bi:house-door-fill"}),m(" Accueil ")]),_:1},8,["active"]),e(f,{class:"page-navbar-item",to:"/cours/",active:(o._.provides[L]||o.$route).path.startsWith("/cours")},{default:a(()=>[e(i,{name:"bi:bookmark-fill"}),m(" Liste des cours ")]),_:1},8,["active"]),e(f,{class:"page-navbar-item",to:"/a-propos/",active:(o._.provides[L]||o.$route).path==="/a-propos/"},{default:a(()=>[e(i,{name:"bi:pencil-fill"}),m(" À propos ")]),_:1},8,["active"]),e(f,{class:"page-navbar-item d-lg-none",to:"/cours/",onClick:s[0]||(s[0]=C=>_.value=!d(_))},{default:a(()=>[e(i,{name:"bi:tag-fill"}),m(" Accès direct à un cours ")]),_:1})]),_:1}),e(E,{class:"desktop-navbar-brand"}),e(k,{class:"d-none d-lg-block ms-auto"},{default:a(()=>[e(Ae,{id:"lesson-list-dropdown",class:"page-navbar-item"})]),_:1})]),_:1})]),_:1})),[[G,"dark"]]),e(j,{id:"modal-lesson-list",modelValue:d(_),"onUpdate:modelValue":s[1]||(s[1]=C=>q(_)?_.value=C:null),title:"Accès direct à un cours",size:"lg","ok-variant":"secondary","ok-title":"Fermer","ok-only":""},{default:a(()=>[e(O,null,{default:a(()=>[e(P)]),_:1})]),_:1},8,["modelValue"])])}}});export{ve as _,ze as a,V as s};
